# hackerbay ichallenge microservice API
 Microservice API
```
- The online version of the swagger Api documentation is avaliable at \api-docs for testing.
```

### Content

- User login with any username and password by posting.

- Create image thumbnail from a public image URL

- perform json patching on a json object

- it also returns the logs of all request made to the endpoints

###

## POST login

```
http://localhost:4000/api/login
```

- Login a user with json objects of username and password combination

- Status code 200 is returned on successful login

- it returns a token and success true

- it returns an error message if the requests fails

```
BODY raw
```

```
{
"username": "peter",
"password" : "peter"
}
```

```
Example Request
```

```
--data-raw '{
"username": "peter",
"password" : "peter"
}'
```

```
Success Response
```

```
{
"status": "success",
"token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InBldGVyIiwicGFzc3dvcmQiOiJwZXRlciIsImlhdCI6MTYzNDI5NjMyMSwiZXhwIjoxNjM0Mjk5OTIxfQ.qkMIOTMs9tmocWNzVV45pVQd-ZGWqiSoZqWMWcz2DHM"
}
```

## POST image_thumbnail

```
http://localhost:4000/api/thumbnail
```

- Endpoint to create image thumbnail from a public image URL

- A successful request will result in an http 200 status code

- An invalid data body will result in an error 400 status code

- An invalid or expired token will return an error 401 status code

- HEADERS

```
BODY raw
```

```
Content-Type
application/json
```

```
{
"url": "https://res.cloudinary.com/veeportfolio-herokuapp-com/image/upload/v1624411486/train/yp89qhmlfsj2543doi9z.png"
}
```

```
Example Request
```

```
image thumbnail example
```

```
curl --location --request POST 'http://localhost:4000/api/thumbnail' \
--header 'Content-Type: application/json' \
```

```
data-raw '{
"url": "https://res.cloudinary.com/veeportfolio-herokuapp-com/image/upload/v1624411486/train/yp89qhmlfsj2543doi9z.png"
}'
```

```
Example Response
200 － OK
```

```
{
    "status": "success",
    "thumbnail": {
        "type": "Buffer",
        "data": [
            137,
            80,
            78,
            71,
            13,
            10,
            26,
            10,
            0,
            0,
            0,
            13,
            73,
            72,
            68,
            82,
            0,
            0,
            0,
            50,
            0,
            0,
            0,
            31,
            8,
            6,
            0,
            0,
            0,
            165,
            13,
            158,
            89,
            0,
            0,
            0,
            9,
            112,
            72,
            89,
            115,
            0,
            0,
            22,
            37,
            0,
            0,
            22,
            37,
            1,
            73,
            82,
            36,
            240,
            0,
            0,
            5,
            83,
            73,
            68,
            65,
            84,
            88,
            195,
            205,
            88,
            105,
            79,
            91,
            87,
            16,
            245,
            63,
            73,
            192,
            96,
            131,
            109,
            12,
            13,
            107,
            8,
            81,
            146,
            150,
            126,
            173,
            154,
            141,
            130,
            1,
            111,
            164,
            73,
            43,
            245,
            151,
            70,
            149,
            210,
            36,
            44,
            198,
            128,
            23,
            188,
            176,
            152,
            53,
            222,
            109,
            146,
            211,
            57,
            243,
            184,
            224,
            32,
            69,
            194,
            56,
            60,
            229,
            73,
            163,
            217,
            238,
            187,
            111,
            230,
            206,
            118,
            109,
            71,
            159,
            187,
            31,
            94,
            159,
            31,
            30,
            239,
            160,
            128,
            31,
            221,
            61,
            46,
            56,
            71,
            133,
            246,
            13,
            138,
            124,
            16,
            46,
            87,
            63,
            156,
            30,
            15,
            220,
            227,
            247,
            224,
            147,
            53,
            3,
            131,
            247,
            208,
            231,
            246,
            160,
            215,
            55,
            12,
            239,
            200,
            20,
            188,
            222,
            1,
            248,
            6,
            134,
            208,
            43,
            50,
            95,
            119,
            47,
            252,
            158,
            1,
            56,
            123,
            251,
            112,
            183,
            203,
            9,
            103,
            143,
            27,
            30,
            143,
            95,
            247,
            241,
            250,
            134,
            224,
            238,
            243,
            170,
            142,
            223,
            225,
            59,
            196,
            189,
            178,
            63,
            233,
            201,
            7,
            143,
            48,
            245,
            240,
            9,
            30,
            63,
            153,
            198,
            196,
            196,
            148,
            234,
            248,
            30,
            117,
            198,
            14,
            191,
            127,
            0,
            3,
            254,
            33,
            248,
            4,
            250,
            250,
            189,
            250,
            110,
            143,
            236,
            215,
            37,
            223,
            117,
            12,
            15,
            143,
            97,
            116,
            244,
            62,
            198,
            198,
            38,
            48,
            248,
            211,
            8,
            70,
            70,
            39,
            48,
            50,
            49,
            137,
            177,
            241,
            73,
            248,
            197,
            104,
            110,
            212,
            47,
            155,
            58,
            197,
            97,
            26,
            166,
            47,
            118,
            245,
            226,
            174,
            211,
            13,
            167,
            203,
            131,
            30,
            145,
            81,
            222,
            237,
            148,
            3,
            144,
            13,
            201,
            223,
            237,
            234,
            193,
            157,
            46,
            151,
            126,
            160,
            171,
            219,
            117,
            249,
            30,
            121,
            209,
            117,
            59,
            45,
            158,
            242,
            59,
            194,
            19,
            211,
            73,
            151,
            219,
            123,
            129,
            205,
            158,
            60,
            160,
            7,
            247,
            31,
            98,
            244,
            215,
            105,
            140,
            77,
            79,
            99,
            120,
            252,
            1,
            198,
            199,
            158,
            224,
            209,
            253,
            223,
            240,
            248,
            231,
            95,
            240,
            104,
            114,
            10,
            67,
            67,
            35,
            112,
            4,
            230,
            230,
            16,
            10,
            69,
            16,
            14,
            7,
            16,
            93,
            250,
            19,
            75,
            175,
            222,
            32,
            24,
            140,
            10,
            253,
            26,
            139,
            193,
            136,
            226,
            192,
            124,
            16,
            139,
            139,
            17,
            132,
            194,
            75,
            88,
            16,
            252,
            98,
            38,
            128,
            223,
            103,
            35,
            152,
            95,
            8,
            235,
            154,
            153,
            63,
            230,
            85,
            190,
            24,
            138,
            98,
            65,
            248,
            23,
            47,
            231,
            240,
            60,
            244,
            15,
            130,
            178,
            254,
            185,
            208,
            129,
            249,
            144,
            188,
            27,
            197,
            92,
            96,
            17,
            129,
            217,
            128,
            238,
            103,
            237,
            21,
            198,
            211,
            217,
            151,
            8,
            44,
            10,
            31,
            90,
            194,
            236,
            220,
            2,
            158,
            62,
            123,
            41,
            116,
            84,
            108,
            136,
            232,
            122,
            174,
            161,
            77,
            225,
            87,
            175,
            49,
            27,
            8,
            226,
            89,
            248,
            111,
            4,
            163,
            127,
            33,
            26,
            121,
            131,
            80,
            100,
            9,
            51,
            51,
            115,
            242,
            189,
            89,
            56,
            26,
            141,
            6,
            154,
            205,
            38,
            26,
            2,
            138,
            133,
            191,
            10,
            205,
            115,
            29,
            161,
            90,
            111,
            8,
            8,
            110,
            156,
            89,
            184,
            214,
            80,
            89,
            133,
            184,
            118,
            174,
            171,
            91,
            116,
            165,
            86,
            87,
            186,
            245,
            253,
            70,
            11,
            125,
            93,
            184,
            180,
            165,
            126,
            190,
            135,
            69,
            83,
            86,
            63,
            215,
            57,
            208,
            230,
            211,
            104,
            52,
            241,
            233,
            83,
            81,
            161,
            84,
            42,
            163,
            82,
            174,
            162,
            92,
            170,
            88,
            184,
            92,
            81,
            25,
            121,
            210,
            53,
            113,
            228,
            236,
            236,
            12,
            118,
            60,
            142,
            47,
            95,
            190,
            224,
            186,
            192,
            231,
            244,
            180,
            136,
            183,
            111,
            255,
            197,
            127,
            239,
            63,
            98,
            117,
            53,
            134,
            143,
            31,
            87,
            176,
            188,
            188,
            134,
            149,
            149,
            24,
            62,
            124,
            88,
            22,
            122,
            21,
            177,
            88,
            92,
            233,
            252,
            206,
            30,
            234,
            18,
            145,
            118,
            190,
            113,
            83,
            184,
            86,
            68,
            90,
            29,
            41,
            201,
            105,
            39,
            147,
            105,
            164,
            211,
            25,
            108,
            108,
            108,
            97,
            107,
            43,
            169,
            124,
            60,
            190,
            137,
            68,
            34,
            165,
            114,
            242,
            148,
            23,
            10,
            135,
            234,
            136,
            217,
            227,
            86,
            35,
            210,
            174,
            35,
            197,
            98,
            25,
            239,
            37,
            26,
            239,
            222,
            189,
            191,
            136,
            0,
            121,
            67,
            19,
            147,
            39,
            189,
            191,
            127,
            240,
            227,
            58,
            82,
            169,
            84,
            177,
            185,
            153,
            208,
            211,
            79,
            165,
            182,
            149,
            230,
            233,
            147,
            95,
            95,
            223,
            80,
            154,
            50,
            70,
            139,
            78,
            255,
            208,
            17,
            49,
            39,
            79,
            204,
            26,
            97,
            173,
            228,
            114,
            187,
            200,
            100,
            114,
            216,
            145,
            186,
            32,
            108,
            111,
            103,
            113,
            116,
            116,
            242,
            149,
            35,
            237,
            214,
            99,
            43,
            253,
            221,
            29,
            161,
            97,
            149,
            74,
            77,
            161,
            90,
            189,
            4,
            118,
            51,
            66,
            189,
            110,
            225,
            102,
            243,
            76,
            187,
            22,
            233,
            155,
            60,
            237,
            70,
            208,
            113,
            27,
            155,
            127,
            254,
            252,
            249,
            28,
            172,
            3,
            184,
            228,
            175,
            7,
            182,
            68,
            164,
            88,
            44,
            226,
            228,
            228,
            68,
            210,
            230,
            72,
            233,
            82,
            169,
            132,
            227,
            99,
            242,
            199,
            42,
            47,
            151,
            203,
            55,
            74,
            37,
            219,
            83,
            43,
            151,
            203,
            97,
            109,
            45,
            38,
            179,
            34,
            38,
            69,
            189,
            41,
            197,
            157,
            144,
            214,
            27,
            151,
            58,
            89,
            147,
            154,
            89,
            150,
            58,
            201,
            180,
            237,
            136,
            109,
            169,
            117,
            245,
            132,
            120,
            77,
            168,
            213,
            106,
            10,
            213,
            106,
            85,
            249,
            78,
            159,
            155,
            68,
            161,
            163,
            136,
            48,
            125,
            24,
            129,
            120,
            124,
            67,
            90,
            110,
            82,
            163,
            146,
            72,
            36,
            244,
            190,
            99,
            234,
            161,
            21,
            27,
            184,
            90,
            3,
            223,
            170,
            137,
            91,
            109,
            191,
            173,
            31,
            225,
            233,
            103,
            50,
            89,
            25,
            118,
            251,
            216,
            219,
            219,
            211,
            84,
            218,
            221,
            221,
            213,
            148,
            219,
            219,
            219,
            87,
            156,
            78,
            111,
            75,
            11,
            222,
            65,
            62,
            159,
            23,
            188,
            43,
            173,
            120,
            91,
            229,
            92,
            71,
            57,
            223,
            205,
            231,
            119,
            46,
            214,
            152,
            251,
            216,
            173,
            59,
            210,
            26,
            17,
            94,
            22,
            87,
            87,
            87,
            53,
            34,
            172,
            15,
            214,
            11,
            163,
            178,
            190,
            190,
            46,
            120,
            75,
            107,
            39,
            22,
            91,
            111,
            145,
            93,
            98,
            202,
            169,
            79,
            38,
            83,
            50,
            48,
            55,
            68,
            30,
            151,
            61,
            182,
            180,
            97,
            216,
            30,
            145,
            122,
            189,
            142,
            131,
            131,
            3,
            233,
            84,
            199,
            226,
            212,
            39,
            237,
            86,
            228,
            153,
            114,
            167,
            167,
            167,
            56,
            60,
            60,
            84,
            57,
            245,
            4,
            234,
            41,
            39,
            77,
            29,
            177,
            233,
            122,
            102,
            45,
            211,
            203,
            182,
            136,
            24,
            204,
            150,
            203,
            154,
            72,
            38,
            173,
            250,
            96,
            218,
            48,
            18,
            228,
            121,
            218,
            212,
            49,
            2,
            60,
            105,
            234,
            110,
            107,
            0,
            118,
            156,
            90,
            236,
            82,
            233,
            116,
            90,
            141,
            36,
            208,
            96,
            214,
            137,
            161,
            83,
            169,
            148,
            230,
            62,
            211,
            135,
            52,
            215,
            82,
            207,
            26,
            33,
            54,
            107,
            169,
            167,
            206,
            214,
            26,
            105,
            253,
            8,
            127,
            48,
            177,
            216,
            45,
            176,
            12,
            203,
            102,
            179,
            106,
            52,
            113,
            54,
            155,
            83,
            108,
            12,
            103,
            225,
            167,
            82,
            233,
            139,
            181,
            102,
            61,
            245,
            196,
            140,
            112,
            39,
            109,
            247,
            198,
            142,
            112,
            118,
            208,
            24,
            118,
            30,
            243,
            51,
            148,
            117,
            211,
            250,
            147,
            216,
            204,
            24,
            202,
            12,
            190,
            74,
            155,
            245,
            182,
            167,
            86,
            107,
            141,
            176,
            83,
            177,
            115,
            209,
            153,
            239,
            49,
            8,
            109,
            155,
            35,
            95,
            223,
            126,
            235,
            58,
            15,
            172,
            52,
            201,
            106,
            199,
            162,
            67,
            196,
            173,
            180,
            153,
            23,
            236,
            76,
            196,
            133,
            66,
            65,
            229,
            228,
            137,
            57,
            115,
            56,
            135,
            216,
            213,
            108,
            75,
            173,
            171,
            142,
            236,
            239,
            23,
            212,
            8,
            26,
            91,
            169,
            84,
            206,
            39,
            117,
            231,
            23,
            68,
            91,
            83,
            139,
            125,
            159,
            5,
            204,
            162,
            182,
            138,
            57,
            141,
            149,
            149,
            149,
            142,
            210,
            236,
            123,
            252,
            122,
            108,
            187,
            216,
            217,
            126,
            173,
            46,
            101,
            181,
            96,
            94,
            53,
            76,
            23,
            98,
            43,
            53,
            237,
            149,
            64,
            249,
            101,
            167,
            202,
            93,
            116,
            55,
            206,
            28,
            210,
            166,
            5,
            179,
            9,
            216,
            94,
            35,
            76,
            37,
            51,
            27,
            204,
            29,
            202,
            180,
            89,
            203,
            177,
            188,
            200,
            44,
            135,
            44,
            199,
            178,
            23,
            45,
            151,
            107,
            200,
            19,
            231,
            244,
            30,
            182,
            163,
            245,
            102,
            219,
            100,
            191,
            218,
            126,
            105,
            60,
            129,
            23,
            66,
            26,
            77,
            131,
            105,
            16,
            49,
            107,
            135,
            105,
            102,
            140,
            52,
            116,
            102,
            155,
            151,
            75,
            169,
            171,
            35,
            153,
            67,
            133,
            18,
            78,
            203,
            53,
            156,
            73,
            251,
            229,
            48,
            180,
            245,
            246,
            123,
            219,
            255,
            132,
            116,
            186,
            247,
            255,
            58,
            34,
            97,
            60,
            38,
            121,
            139,
            114,
            0,
            0,
            0,
            0,
            73,
            69,
            78,
            68,
            174,
            66,
            96,
            130
        ]
    }
}
```

## PATCH json-patch

```
http://localhost:4000/api/json-patch
```

- Api endpoint to json-patch will return a patched json object

- A successful request will result in an http 200 status code

- An invalid data body will result in an error 400 status code

- An invalid or expired token will return an error 401 status code

```
BODY raw
```

```
Content-Type
application/json
```

```
json patch example request
```

```
json-patch example
curl --location --request PATCH 'http://localhost:4000/api/json-patch' \
--header 'Content-Type: application/json' \
```

```
--data-raw{
    "baseJson": {
        "baz": "qux",
        "foo": "bar"
    },
    "jsonPatchObject": [{
        "op": "replace",
        "path": "/baz",
        "value": "boo"
    }]
}
```

```
Example Response
200 － OK
{
    "status": "success",
    "jsonObject": {
        "baz": "boo",
        "foo": "bar"
    }
}
```

## GET Logs

```
http://localhost:4000/api/log"
```

- Api endpoint to logs will return the logs of all request made to endpoints

- A successful request will result in an http 200 status code

- An invalid or expired token will return an error 401 status code

- HEADERS

```
BODY raw
```

```
Content-Type
application/json
```

```
Example Request
request logs example
```

```
curl --location --request GET 'http://localhost:4000/api/log' \
--header 'Content-Type: application/json' \

```

```
Example Response
200 － OK
```

```
{"message":"::1 - - [10/Nov/2020:09:36:39 +0000] \"POST /api/login HTTP/1.1\" 200 212 \"-\" \"PostmanRuntime/7.26.8\"\n","level":"info"}
{"message":"::1 - - [10/Nov/2020:09:37:12 +0000] \"GET /api-docs HTTP/1.1\" 301 183 \"-\" \"PostmanRuntime/7.26.8\"\n","level":"info"}
{"message":"::1 - - [10/Nov/2020:09:37:12 +0000] \"GET /api-docs/ HTTP/1.1\" 200 3104 \"http://localhost:5009/api-docs\" \"PostmanRuntime/7.26.8\"\n","level":"info"}
```

```
End
```
